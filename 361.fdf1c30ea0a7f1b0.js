"use strict";(self.webpackChunkfreshCart=self.webpackChunkfreshCart||[]).push([[361],{7361:(v,h,s)=>{s.r(h),s.d(h,{WishListComponent:()=>g});var o=s(6814),n=s(2012),t=s(4769),u=s(9077),c=s(4018),_=s(2425);function m(l,f){if(1&l){const e=t.EpF();t.TgZ(0,"div",8)(1,"div",9)(2,"div",10),t._UZ(3,"img",11),t.qZA()(),t.TgZ(4,"div",12)(5,"div",13)(6,"div")(7,"h2",14),t._uU(8),t.ALo(9,"cuttext"),t.qZA(),t.TgZ(10,"p",15),t._uU(11),t.ALo(12,"currency"),t.qZA(),t.TgZ(13,"p",16),t.NdJ("click",function(){const d=t.CHM(e).$implicit,C=t.oxw(2);return t.KtG(C.removeFav(d._id))}),t._UZ(14,"i",17),t._uU(15,"Remove"),t.qZA()(),t.TgZ(16,"div",18)(17,"button",19),t.NdJ("click",function(){const d=t.CHM(e).$implicit,C=t.oxw(2);return t.KtG(C.addToCart(d._id))}),t._UZ(18,"i",20),t._uU(19,"Add To Cart"),t.qZA()()()()()}if(2&l){const e=f.$implicit;t.xp6(3),t.Q6J("src",e.imageCover,t.LSH)("alt",e.title),t.xp6(4),t.Q6J("title",e.title),t.xp6(1),t.hij("",t.xi3(9,5,e.title,2),"..."),t.xp6(3),t.Oqu(t.xi3(12,8,e.price,"EGP "))}}function a(l,f){if(1&l&&(t.TgZ(0,"section",2)(1,"div",3)(2,"header",4)(3,"h2",5),t._uU(4,"My Wish List Products"),t.qZA()(),t.TgZ(5,"main",6),t.YNc(6,m,20,11,"div",7),t.qZA()()()),2&l){const e=t.oxw();t.xp6(6),t.Q6J("ngForOf",e.wishData)}}function p(l,f){1&l&&(t.TgZ(0,"section",6)(1,"div",21)(2,"h3",22),t._uU(3,"Your Wish List is Empty"),t.qZA()()())}let g=(()=>{class l{constructor(e,i,r,d){this._CartService=e,this._WishListService=i,this._Renderer2=r,this._ToastrService=d,this.wishData=[],this.wishListDataIds=[]}ngOnInit(){this._WishListService.getUserWishList().subscribe({next:e=>{console.log("User Wish List Res",e),this.wishData=e.data,this.noOfWishItems=e.count},error:e=>{console.log("User Wish List Err",e)}})}addToCart(e){this._CartService.addToCart(e).subscribe({next:i=>{this._WishListService.removeSpecificWishItem(e).subscribe({next:r=>{console.log("remove item Wish List Res",r),this._WishListService.getUserWishList().subscribe({next:d=>{console.log("Get all wish list in the res of remove method RES ",d),this.wishData=d.data,this._ToastrService.success("it has been successfully removed from wish \u{1f494}")},error:d=>{console.log("Get all wish list in the res of remove method ERR ",d)}})},error:r=>{console.log("remove item Wish List Err",r)}}),console.log("ADD To Cart Res",i),this._ToastrService.success("it has been successfully added to cart \u{1f6fa}\u{1f6fa}\u{1f69a}"),this._CartService.cartNumber.next(i.numOfCartItems)},error:i=>{console.log("ADD To Cart Err",i)}})}removeFav(e){this._WishListService.removeSpecificWishItem(e).subscribe({next:i=>{console.log("remove item Wish List Res",i),this._WishListService.getUserWishList().subscribe({next:r=>{console.log("Get all wish list in the res of remove method RES ",r),this.wishData=r.data,this._ToastrService.success("it has been successfully removed from wish \u{1f494}")},error:r=>{console.log("Get all wish list in the res of remove method ERR ",r)}})},error:i=>{console.log("remove item Wish List Err",i)}})}static#t=this.\u0275fac=function(i){return new(i||l)(t.Y36(u.N),t.Y36(c.i),t.Y36(t.Qsj),t.Y36(_._W))};static#e=this.\u0275cmp=t.Xpm({type:l,selectors:[["app-wish-list"]],standalone:!0,features:[t.jDz],decls:2,vars:2,consts:[["class","m-4",4,"ngIf"],["class","my-4",4,"ngIf"],[1,"m-4"],[1,"container","bg-main-light","my-4","rounded-4","p-sm-2","p-md-4","shadow-main"],[1,"my-2"],[1,"fw-semibold"],[1,"my-4"],["class","row g-4 border-bottom py-3 align-items-center",4,"ngFor","ngForOf"],[1,"row","g-4","border-bottom","py-3","align-items-center"],[1,"col-sm-3","col-md-2"],[1,""],[1,"w-100",3,"src","alt"],[1,"col-sm-9","col-md-10"],[1,"d-flex","justify-content-between","align-items-center"],[1,"h3","fw-semibold",3,"title"],[1,"small","mb-2","fw-bold"],["role","button",1,"remove","small",3,"click"],[1,"fa-solid","me-1","fa-trash"],[1,"d-flex","justify-content-center","align-items-center"],[1,"rounded-pill","add","fw-bold","px-sm-2","px-md-3","py-md-2","py-sm-1","shadow-main","border-main",3,"click"],[1,"fa-solid","fs-5","text-main","me-2","fa-plus"],[1,"container","text-center","p-5","bg-main-light","rounded-4","shadow-main"],[1,"fw-bold"]],template:function(i,r){1&i&&(t.YNc(0,a,7,1,"section",0),t.YNc(1,p,4,0,"section",1)),2&i&&(t.Q6J("ngIf",null!=r.wishData&&0!=r.noOfWishItems),t.xp6(1),t.Q6J("ngIf",null==r.wishData||0==r.noOfWishItems))},dependencies:[o.ez,o.sg,o.O5,o.H9,n.r],styles:[".remove[_ngcontent-%COMP%]{color:#dc3545}.add[_ngcontent-%COMP%]{transition:.5s}.add[_ngcontent-%COMP%]:hover{background-color:#0aad0a!important;color:#fff}.add[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{color:#fff!important;transition:.5s}"]})}return l})()},2012:(v,h,s)=>{s.d(h,{r:()=>n});var o=s(4769);let n=(()=>{class t{transform(c,_){return c.split(" ").slice(0,_).join(" ")}static#t=this.\u0275fac=function(_){return new(_||t)};static#e=this.\u0275pipe=o.Yjl({name:"cuttext",type:t,pure:!0,standalone:!0})}return t})()},9077:(v,h,s)=>{s.d(h,{N:()=>c});var o=s(5619),n=s(7587),t=s(4769),u=s(9862);let c=(()=>{class _{constructor(a){this._HttpClient=a,this.cartNumber=new o.X(0)}addToCart(a){return this._HttpClient.post(n.q.baseUrl+"cart",{productId:a})}getUserCart(){return this._HttpClient.get(n.q.baseUrl+"cart")}delSpecificCartItem(a){return this._HttpClient.delete(n.q.baseUrl+"cart/"+a)}updateCartQuantity(a,p){return this._HttpClient.put(n.q.baseUrl+"cart/"+a,{count:p})}clarUserCart(){return this._HttpClient.delete(n.q.baseUrl+"cart")}static#t=this.\u0275fac=function(p){return new(p||_)(t.LFG(u.eN))};static#e=this.\u0275prov=t.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"})}return _})()},4018:(v,h,s)=>{s.d(h,{i:()=>u});var o=s(7587),n=s(4769),t=s(9862);let u=(()=>{class c{constructor(m){this._HttpClient=m}addProToWishList(m){return this._HttpClient.post(o.q.baseUrl+"wishlist",{productId:m})}getUserWishList(){return this._HttpClient.get(o.q.baseUrl+"wishlist")}removeSpecificWishItem(m){return this._HttpClient.delete(o.q.baseUrl+`wishlist/${m}`)}static#t=this.\u0275fac=function(a){return new(a||c)(n.LFG(t.eN))};static#e=this.\u0275prov=n.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"})}return c})()},7587:(v,h,s)=>{s.d(h,{q:()=>o});var o=function(n){return n.baseUrl="https://ecommerce.routemisr.com/api/v1/",n}(o||{})}}]);