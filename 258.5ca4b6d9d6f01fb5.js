"use strict";(self.webpackChunkfreshCart=self.webpackChunkfreshCart||[]).push([[258],{1258:(P,c,i)=>{i.r(c),i.d(c,{ForgetPasswordComponent:()=>h});var u=i(6814),r=i(95),e=i(4769),m=i(7069),_=i(1120);function l(s,a){if(1&s&&(e.TgZ(0,"p",10),e._uU(1),e.qZA()),2&s){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.userMsg," ")}}function p(s,a){if(1&s){const t=e.EpF();e.TgZ(0,"section",1)(1,"div",2)(2,"div",3)(3,"h5",4),e._uU(4,"Write Your Email Which Forget its Password"),e.qZA(),e.TgZ(5,"form",5),e.NdJ("ngSubmit",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.pushEmail())}),e.TgZ(6,"label",6),e._uU(7,"Email :"),e.qZA(),e._UZ(8,"input",7),e.YNc(9,l,2,1,"p",8),e.TgZ(10,"button",9),e._uU(11,"Verify"),e.qZA()()()()()}if(2&s){const t=e.oxw();e.xp6(5),e.Q6J("formGroup",t.forgetForm),e.xp6(4),e.Q6J("ngIf",t.userMsg)}}function g(s,a){if(1&s&&(e.TgZ(0,"p",10),e._uU(1),e.qZA()),2&s){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.userMsg," ")}}function d(s,a){if(1&s){const t=e.EpF();e.TgZ(0,"section",1)(1,"div",2)(2,"div",3)(3,"h5",4),e._uU(4,"please enter (write it not Copy) your verification code"),e.qZA(),e.TgZ(5,"form",5),e.NdJ("ngSubmit",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.verifyCode())}),e.TgZ(6,"label",11),e._uU(7,"Code :"),e.qZA(),e._UZ(8,"input",12),e.YNc(9,g,2,1,"p",8),e.TgZ(10,"button",9),e._uU(11,"Verify"),e.qZA()()()()()}if(2&s){const t=e.oxw();e.xp6(5),e.Q6J("formGroup",t.resetCodeForm),e.xp6(4),e.Q6J("ngIf",t.userMsg)}}function f(s,a){if(1&s&&(e.TgZ(0,"p",10),e._uU(1),e.qZA()),2&s){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.userMsg," ")}}function w(s,a){if(1&s){const t=e.EpF();e.TgZ(0,"section",1)(1,"div",2)(2,"div",3)(3,"h5",4),e._uU(4,"Reset Your Account Password"),e.qZA(),e.TgZ(5,"form",5),e.NdJ("ngSubmit",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.newPass())}),e.TgZ(6,"label",11),e._uU(7,"Email :"),e.qZA(),e._UZ(8,"input",7),e.TgZ(9,"label",11),e._uU(10,"New Password :"),e.qZA(),e._UZ(11,"input",13),e.YNc(12,f,2,1,"p",8),e.TgZ(13,"button",9),e._uU(14,"Reset Password"),e.qZA()()()()()}if(2&s){const t=e.oxw();e.xp6(5),e.Q6J("formGroup",t.resetPasswordForm),e.xp6(7),e.Q6J("ngIf",t.userMsg)}}let h=(()=>{class s{constructor(t,o){this._AuthService=t,this._Router=o,this.step1=!0,this.step2=!1,this.step3=!1,this.userMsg="",this.forgetForm=new r.cw({email:new r.NI("",[r.kI.required,r.kI.email])}),this.resetCodeForm=new r.cw({resetCode:new r.NI("",[r.kI.required])}),this.resetPasswordForm=new r.cw({email:new r.NI("",[r.kI.required,r.kI.email]),newPassword:new r.NI("",[r.kI.required,r.kI.pattern(/^[a-zA-Z0-9_@]{6,}$/)])})}pushEmail(){this._AuthService.forgetPassword(this.forgetForm.value).subscribe({next:o=>{console.log("Forget Password Res",o),this.userMsg=o.message,this.step1=!1,this.step2=!0},error:o=>{console.log("Forget Password Err",o),this.userMsg=o.error.message}})}verifyCode(){this._AuthService.verifyCode(this.resetCodeForm.value).subscribe({next:o=>{console.log("Verify Code Res",o),this.userMsg=o.status,this.step2=!1,this.step3=!0},error:o=>{console.log("Verify Code Err",o),this.userMsg=o.error.message}})}newPass(){this._AuthService.resetPassword(this.resetPasswordForm.value).subscribe({next:o=>{console.log("Put New Pass Res",o),o.token&&(localStorage.setItem("userToken",o.token),this._Router.navigate(["/home"]))},error:o=>{console.log("Put New Pass Err",o)}})}static#e=this.\u0275fac=function(o){return new(o||s)(e.Y36(m.e),e.Y36(_.F0))};static#t=this.\u0275cmp=e.Xpm({type:s,selectors:[["app-forget-password"]],standalone:!0,features:[e.jDz],decls:3,vars:3,consts:[["class","m-5",4,"ngIf"],[1,"m-5"],[1,"container"],[1,"w-75","mx-auto","rounded-4","border-main","shadow-main","p-3"],[1,"fw-bold","mb-4"],[3,"formGroup","ngSubmit"],["for","email",1,"ps-2","fw-semibold"],["formControlName","email","type","email","placeholder","Email...",1,"form-control","my-2"],["class","alert alert-danger w-75 mx-auto mb-0 mt-2 text-center p-2",4,"ngIf"],[1,"d-block","my-3","py-2","fw-bolder","shadow-main","border-main","rounded-pill","w-25","mx-auto"],[1,"alert","alert-danger","w-75","mx-auto","mb-0","mt-2","text-center","p-2"],[1,"ps-2","fw-semibold"],["formControlName","resetCode","type","text","placeholder","Code...",1,"form-control","my-2"],["formControlName","newPassword","type","password","placeholder","New Password...",1,"form-control","my-2"]],template:function(o,n){1&o&&(e.YNc(0,p,12,2,"section",0),e.YNc(1,d,12,2,"section",0),e.YNc(2,w,15,2,"section",0)),2&o&&(e.Q6J("ngIf",n.step1),e.xp6(1),e.Q6J("ngIf",n.step2),e.xp6(1),e.Q6J("ngIf",n.step3))},dependencies:[u.ez,u.O5,r.UX,r._Y,r.Fj,r.JJ,r.JL,r.sg,r.u],styles:["button[_ngcontent-%COMP%]{transition:.5s}button[_ngcontent-%COMP%]:hover{background-color:#0aad0a;color:#fff}"]})}return s})()}}]);