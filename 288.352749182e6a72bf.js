"use strict";(self.webpackChunkfreshCart=self.webpackChunkfreshCart||[]).push([[288],{9288:(F,m,a)=>{a.r(m),a.d(m,{RegisterComponent:()=>E});var p=a(6814),n=a(95),e=a(4769),l=a(7069),g=a(1120);function _(r,s){1&r&&(e.TgZ(0,"p",16),e._uU(1,"User Name Is Required"),e.qZA())}function c(r,s){1&r&&(e.TgZ(0,"p",16),e._uU(1,"User Name minLength is 3"),e.qZA())}function u(r,s){1&r&&(e.TgZ(0,"p",16),e._uU(1,"User Name maxLength is 25"),e.qZA())}function d(r,s){if(1&r&&(e.TgZ(0,"div",14),e.YNc(1,_,2,0,"p",15),e.YNc(2,c,2,0,"p",15),e.YNc(3,u,2,0,"p",15),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.registerForm.controls.name.getError("required")),e.xp6(1),e.Q6J("ngIf",t.registerForm.controls.name.getError("minlength")),e.xp6(1),e.Q6J("ngIf",t.registerForm.controls.name.getError("maxlength"))}}function f(r,s){1&r&&(e.TgZ(0,"p",16),e._uU(1,"Email Is Required"),e.qZA())}function h(r,s){1&r&&(e.TgZ(0,"p",16),e._uU(1,"Email is Not Valid"),e.qZA())}function Z(r,s){if(1&r&&(e.TgZ(0,"div",14),e.YNc(1,f,2,0,"p",15),e.YNc(2,h,2,0,"p",15),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.registerForm.controls.email.getError("required")),e.xp6(1),e.Q6J("ngIf",t.registerForm.controls.email.getError("email"))}}function T(r,s){if(1&r&&(e.TgZ(0,"p",17),e._uU(1),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Oqu(t.errMessage)}}function x(r,s){1&r&&(e.TgZ(0,"p",16),e._uU(1,"Password Is Required"),e.qZA())}function v(r,s){1&r&&(e.TgZ(0,"p",16),e._uU(1,"must be at least 6 characters "),e.qZA())}function I(r,s){if(1&r&&(e.TgZ(0,"div",14),e.YNc(1,x,2,0,"p",15),e.YNc(2,v,2,0,"p",15),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.registerForm.controls.password.getError("required")),e.xp6(1),e.Q6J("ngIf",t.registerForm.controls.password.getError("pattern"))}}function R(r,s){1&r&&(e.TgZ(0,"p",16),e._uU(1,"rePassword is Required"),e.qZA())}function C(r,s){1&r&&(e.TgZ(0,"p",16),e._uU(1,"Password Confirmation is Incorrect"),e.qZA())}function b(r,s){if(1&r&&(e.TgZ(0,"div",14),e.YNc(1,R,2,0,"p",15),e.YNc(2,C,2,0,"p",15),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.registerForm.controls.rePassword.getError("required")),e.xp6(1),e.Q6J("ngIf",t.registerForm.controls.rePassword.getError("mismatch"))}}function q(r,s){1&r&&(e.TgZ(0,"p",16),e._uU(1,"Phone Number Is Required"),e.qZA())}function w(r,s){1&r&&(e.TgZ(0,"p",16),e._uU(1,"Write a Valid EGP Phone Number "),e.qZA())}function N(r,s){if(1&r&&(e.TgZ(0,"div",14),e.YNc(1,q,2,0,"p",15),e.YNc(2,w,2,0,"p",15),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.registerForm.controls.phone.getError("required")),e.xp6(1),e.Q6J("ngIf",t.registerForm.controls.phone.getError("pattern"))}}function A(r,s){if(1&r&&(e.TgZ(0,"button",18),e._uU(1,"Register Now"),e.qZA()),2&r){const t=e.oxw();e.Q6J("disabled",t.registerForm.invalid)}}function U(r,s){1&r&&(e.TgZ(0,"button",19),e._UZ(1,"i",20),e.qZA())}let E=(()=>{class r{constructor(t,i,o){this._AuthService=t,this._Router=i,this._FormBuilder=o,this.isLoading=!1,this.errMessage="",this.registerForm=this._FormBuilder.group({name:["",[n.kI.required,n.kI.minLength(3),n.kI.maxLength(25)]],email:["",[n.kI.required,n.kI.email]],password:["",[n.kI.required,n.kI.pattern(/^[a-zA-Z0-9_@]{6,}$/)]],rePassword:[""],phone:["",[n.kI.required,n.kI.pattern(/^01[0125][0-9]{8}$/)]]},{validators:[this.confirmPassword]})}confirmPassword(t){const i=t.get("password"),o=t.get("rePassword");""==o?.value?o?.setErrors({required:!0}):i?.value!=o?.value&&o?.setErrors({mismatch:!0})}handleForm(){this.userData=this.registerForm.value,this.isLoading=!0,this.registerForm.valid&&this._AuthService.register(this.userData).subscribe({next:t=>{"success"===t.message&&(this.isLoading=!1,this._Router.navigate(["/login"]))},error:t=>{this.isLoading=!1,this.errMessage=t.error.message}})}static#e=this.\u0275fac=function(i){return new(i||r)(e.Y36(l.e),e.Y36(g.F0),e.Y36(n.qu))};static#r=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-register"]],standalone:!0,features:[e.jDz],decls:27,vars:9,consts:[[1,"py-5","w-75","m-auto","shadow","rounded-3","px-3","mx-5","my-5"],[1,"fw-bolder"],[3,"formGroup","ngSubmit"],["for","",1,"my-2","fw-semibold"],["formControlName","name","type","text","placeholder","Name...",1,"form-control"],["class","alert alert-danger p-2",4,"ngIf"],["formControlName","email","type","email","placeholder","Email...",1,"form-control"],["class","alert alert-danger p-2 ",4,"ngIf"],["class","alert small alert-danger p-1 mb-0 ",4,"ngIf"],["formControlName","password","type","password","placeholder","password...",1,"form-control"],["formControlName","rePassword","type","password","placeholder","RePassword...",1,"form-control"],["formControlName","phone","type","tel","placeholder","Phone...",1,"form-control"],["type","submit","class","main-btn mt-3 py-2 px-4 d-block ms-auto",3,"disabled",4,"ngIf"],["type","button","class","main-btn my-2 px-5 ms-auto d-block",4,"ngIf"],[1,"alert","alert-danger","p-2"],["class","mb-0 small",4,"ngIf"],[1,"mb-0","small"],[1,"alert","small","alert-danger","p-1","mb-0"],["type","submit",1,"main-btn","mt-3","py-2","px-4","d-block","ms-auto",3,"disabled"],["type","button",1,"main-btn","my-2","px-5","ms-auto","d-block"],[1,"fas","fa-spinner","fa-spin"]],template:function(i,o){1&i&&(e.TgZ(0,"section",0)(1,"h1",1),e._uU(2,"Register Now :"),e.qZA(),e.TgZ(3,"form",2),e.NdJ("ngSubmit",function(){return o.handleForm()}),e.TgZ(4,"label",3),e._uU(5,"Name :"),e.qZA(),e._UZ(6,"input",4),e.YNc(7,d,4,3,"div",5),e.TgZ(8,"label",3),e._uU(9,"Email :"),e.qZA(),e._UZ(10,"input",6),e.YNc(11,Z,3,2,"div",7),e.YNc(12,T,2,1,"p",8),e.TgZ(13,"label",3),e._uU(14,"Password :"),e.qZA(),e._UZ(15,"input",9),e.YNc(16,I,3,2,"div",7),e.TgZ(17,"label",3),e._uU(18,"RePassword :"),e.qZA(),e._UZ(19,"input",10),e.YNc(20,b,3,2,"div",7),e.TgZ(21,"label",3),e._uU(22,"Phone Number:"),e.qZA(),e._UZ(23,"input",11),e.YNc(24,N,3,2,"div",7),e.YNc(25,A,2,1,"button",12),e.YNc(26,U,2,0,"button",13),e.qZA()()),2&i&&(e.xp6(3),e.Q6J("formGroup",o.registerForm),e.xp6(4),e.Q6J("ngIf",o.registerForm.controls.name.errors&&o.registerForm.controls.name.touched),e.xp6(4),e.Q6J("ngIf",o.registerForm.controls.email.errors&&o.registerForm.controls.email.touched),e.xp6(1),e.Q6J("ngIf",o.errMessage),e.xp6(4),e.Q6J("ngIf",o.registerForm.controls.password.errors&&o.registerForm.controls.password.touched),e.xp6(4),e.Q6J("ngIf",o.registerForm.controls.rePassword.errors&&o.registerForm.controls.rePassword.touched),e.xp6(4),e.Q6J("ngIf",o.registerForm.controls.phone.errors&&o.registerForm.controls.phone.touched),e.xp6(1),e.Q6J("ngIf",!o.isLoading),e.xp6(1),e.Q6J("ngIf",o.isLoading))},dependencies:[p.ez,p.O5,n.UX,n._Y,n.Fj,n.JJ,n.JL,n.sg,n.u]})}return r})()}}]);