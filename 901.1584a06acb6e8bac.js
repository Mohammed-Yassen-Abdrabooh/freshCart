"use strict";(self.webpackChunkfreshCart=self.webpackChunkfreshCart||[]).push([[901],{4901:(x,l,s)=>{s.r(l),s.d(l,{LoginComponent:()=>v});var m=s(6814),e=s(95),g=s(1120),o=s(4769),p=s(7069);function u(t,i){1&t&&(o.TgZ(0,"p",16),o._uU(1,"Email Is Required"),o.qZA())}function _(t,i){1&t&&(o.TgZ(0,"p",16),o._uU(1,"Email is Not Valid"),o.qZA())}function c(t,i){if(1&t&&(o.TgZ(0,"div",14),o.YNc(1,u,2,0,"p",15),o.YNc(2,_,2,0,"p",15),o.qZA()),2&t){const n=o.oxw();o.xp6(1),o.Q6J("ngIf",n.loginForm.controls.email.getError("required")),o.xp6(1),o.Q6J("ngIf",n.loginForm.controls.email.getError("email"))}}function d(t,i){if(1&t&&(o.TgZ(0,"p",17),o._uU(1),o.qZA()),2&t){const n=o.oxw();o.xp6(1),o.Oqu(n.errMessage)}}function f(t,i){1&t&&(o.TgZ(0,"p",16),o._uU(1,"Password Is Required"),o.qZA())}function h(t,i){1&t&&(o.TgZ(0,"p",16),o._uU(1,"must be at least 6 characters "),o.qZA())}function b(t,i){if(1&t&&(o.TgZ(0,"div",14),o.YNc(1,f,2,0,"p",15),o.YNc(2,h,2,0,"p",15),o.qZA()),2&t){const n=o.oxw();o.xp6(1),o.Q6J("ngIf",n.loginForm.controls.password.getError("required")),o.xp6(1),o.Q6J("ngIf",n.loginForm.controls.password.getError("pattern"))}}function Z(t,i){if(1&t&&(o.TgZ(0,"button",18),o._uU(1,"Login Now"),o.qZA()),2&t){const n=o.oxw();o.Q6J("disabled",n.loginForm.invalid)}}function T(t,i){1&t&&(o.TgZ(0,"button",19),o._UZ(1,"i",20),o.qZA())}let v=(()=>{class t{constructor(n,a,r){this._AuthService=n,this._Router=a,this._FormBuilder=r,this.isLoading=!1,this.errMessage="",this.loginForm=this._FormBuilder.group({email:["",[e.kI.required,e.kI.email]],password:["",[e.kI.required,e.kI.pattern(/^[a-zA-Z0-9_@]{6,}$/)]]})}handleForm(){this.userData=this.loginForm.value,this.isLoading=!0,this.loginForm.valid&&this._AuthService.login(this.userData).subscribe({next:n=>{"success"===n.message&&(this.isLoading=!1,localStorage.setItem("userToken",n.token),this._AuthService.decodeUser(),this._Router.navigate(["/home"]))},error:n=>{this.isLoading=!1,this.errMessage=n.error.message}})}static#o=this.\u0275fac=function(a){return new(a||t)(o.Y36(p.e),o.Y36(g.F0),o.Y36(e.qu))};static#t=this.\u0275cmp=o.Xpm({type:t,selectors:[["app-login"]],standalone:!0,features:[o.jDz],decls:20,vars:6,consts:[[1,"py-5","w-75","m-auto","shadow","rounded-3","px-3","m-5"],[1,"fw-bolder"],[3,"formGroup","ngSubmit"],["for","",1,"my-2","fw-semibold"],["formControlName","email","type","email","placeholder","Email...",1,"form-control"],["class","alert alert-danger p-2 ",4,"ngIf"],["class","alert small alert-danger p-1 mb-0 ",4,"ngIf"],["formControlName","password","type","password","placeholder","password...",1,"form-control"],[1,"logButtons","d-flex","justify-content-between","align-items-center"],["role","button",1,"fw-bold","px-3","mt-3"],["routerLink","/forgetPassword"],[1,"form-buttons","px-3"],["type","submit","class","main-btn mt-3 py-2 px-4 d-block ms-auto",3,"disabled",4,"ngIf"],["type","button","class","main-btn my-2 px-5 ms-auto d-block",4,"ngIf"],[1,"alert","alert-danger","p-2"],["class","mb-0 small",4,"ngIf"],[1,"mb-0","small"],[1,"alert","small","alert-danger","p-1","mb-0"],["type","submit",1,"main-btn","mt-3","py-2","px-4","d-block","ms-auto",3,"disabled"],["type","button",1,"main-btn","my-2","px-5","ms-auto","d-block"],[1,"fas","fa-spinner","fa-spin"]],template:function(a,r){1&a&&(o.TgZ(0,"section",0)(1,"h1",1),o._uU(2,"Login Now :"),o.qZA(),o.TgZ(3,"form",2),o.NdJ("ngSubmit",function(){return r.handleForm()}),o.TgZ(4,"label",3),o._uU(5,"Email :"),o.qZA(),o._UZ(6,"input",4),o.YNc(7,c,3,2,"div",5),o.YNc(8,d,2,1,"p",6),o.TgZ(9,"label",3),o._uU(10,"Password :"),o.qZA(),o._UZ(11,"input",7),o.YNc(12,b,3,2,"div",5),o.TgZ(13,"div",8)(14,"p",9)(15,"a",10),o._uU(16,"forget your password ?"),o.qZA()(),o.TgZ(17,"div",11),o.YNc(18,Z,2,1,"button",12),o.YNc(19,T,2,0,"button",13),o.qZA()()()()),2&a&&(o.xp6(3),o.Q6J("formGroup",r.loginForm),o.xp6(4),o.Q6J("ngIf",r.loginForm.controls.email.errors&&r.loginForm.controls.email.touched),o.xp6(1),o.Q6J("ngIf",r.errMessage),o.xp6(4),o.Q6J("ngIf",r.loginForm.controls.password.errors&&r.loginForm.controls.password.touched),o.xp6(6),o.Q6J("ngIf",!r.isLoading),o.xp6(1),o.Q6J("ngIf",r.isLoading))},dependencies:[m.ez,m.O5,e.UX,e._Y,e.Fj,e.JJ,e.JL,e.sg,e.u,g.rH],styles:[".logButtons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{transition:.5s;color:#000}.logButtons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#0aad0a}"]})}return t})()}}]);